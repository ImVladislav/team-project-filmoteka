!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire62bd;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire62bd=a),a("5xtVg");var i=a("jaaYu"),o=document.querySelector(".select__lang");if(o.addEventListener("change",(function(e){var t=e.target.value;i.serverApi.setlang(t),localStorage.setItem("language",JSON.stringify(t)),location.reload()})),localStorage.getItem("language")){var s=JSON.parse(localStorage.getItem("language"));o.value=s,i.serverApi.setlang(s)}var c,u=a("bpxeT"),l=a("2TvXO"),p=a("hiFhO"),d=(i=a("jaaYu"),u=a("bpxeT"),l=a("2TvXO"),a("1VFfL")),f=(p=a("hiFhO"),i=a("jaaYu"),a("9PJ7S")),v=a("jcFG7"),m=a("4zVoc"),g=a("j1lrD"),h=document.querySelector(".tui-pagination"),y=new(e(d))(h,v.options);function x(e){var t=e.map((function(e){var t=e.original_title,n=e.title,r=e.poster_path,a=e.id,i=e.genre_ids,o=e.release_date,s=(0,f.posterÐ¡heck)(r),c=null,u=null,l=m.genresArr.reduce((function(e,t){return i.includes(t.id)&&e.push(t.name),e}),[]);return l.length>3?(c=l.slice(0,2)).splice(2,1,"Other"):c=0===l.length?["Genres not found"]:l,u=""===o?"Release data no found":o.slice(0,4),'\n        <li class="film__item" data-id="'.concat(a,'">\n        <img src="').concat(s,'" class="film__img" alt="').concat(t,'" loading="lazy" width="368" height="591"/>\n        <p class="film__title">').concat(n,'</p>\n        <p class="film__genre">').concat(c.join(", ")," | ").concat(u,"</p>\n      </li>")})).join("");return p.refs.gallery.innerHTML=t}function k(){return _.apply(this,arguments)}function _(){return(_=e(u)(e(l).mark((function t(){var n,r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.serverApi.getPopularMovie();case 2:n=e.sent,r=n.total_results,i.serverApi.setTotalResults(r),x(n.results),(0,g.spinnerStop)();case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}(0,g.spinnerPlay)(),y.on("beforeMove",(c=e(u)(e(l).mark((function t(n){var r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,g.spinnerPlay)(),y.setTotalItems(i.serverApi.totalResults),r=n.page,i.serverApi.setPage(r),k();case 5:case"end":return e.stop()}}),t)}))),function(e){return c.apply(this,arguments)}));var b=a("kiFmR"),w=a("5xtVg"),S=a("4cXS4"),T=a("5HOzi"),j=a("dkUq4");g=a("j1lrD");function q(){return(q=e(u)(e(l).mark((function t(n){var r,a,o,s,c,u,d;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("film__item"===n.target.parentElement.className){e.next=2;break}return e.abrupt("return");case 2:return(0,w.onOpenModal)(),(0,g.spinnerPlay)(),r=n.target.parentElement.dataset.id,e.next=7,i.serverApi.getDetailsMovie(r);case 7:return a=e.sent,e.next=10,(0,b.movieDescriptionMurkup)(a);case 10:o=e.sent,p.refs.movieDescription.insertAdjacentHTML("beforeend",o),(0,g.spinnerStop)(),(0,T.makeWatchTextContent)(a),(0,T.makeQueueTextContent)(a),s=document.querySelector("[data-add-watched]"),c=document.querySelector("[data-add-queue]"),u=document.querySelector("[data-modal-close]"),d=document.querySelector(".btn-ytb"),s.addEventListener("click",(function(){return(0,S.onAddWatchClick)(a)})),c.addEventListener("click",(function(){return(0,S.onAddQueueClick)(a)})),d.addEventListener("click",j.handleClick),u.addEventListener("click",w.closeModal);case 23:case"end":return e.stop()}}),t)})))).apply(this,arguments)}k(),p.refs.gallery.addEventListener("click",(function(e){return q.apply(this,arguments)}));u=a("bpxeT"),l=a("2TvXO");var A=a("iU1Pc"),L=(d=a("1VFfL"),p=a("hiFhO"),i=a("jaaYu"),v=a("jcFG7"),g=a("j1lrD")," ");function O(){return(O=e(u)(e(l).mark((function t(n){var r;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),(0,g.spinnerPlay)(),document.querySelector(".header__form-input").addEventListener("change",(function(){i.serverApi.setPage(1),i.serverApi.setRequestCount()})),L=n.currentTarget.elements.serch_film.value.trim().toLowerCase()){t.next=8;break}return e(A).Notify.failure("Enter the name of the movie",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),t.abrupt("return");case 8:return t.next=10,E();case 10:(0,g.spinnerStop)(),r=document.querySelector(".tui-pagination"),new(e(d))(r,v.options).on("beforeMove",(function(e){var t=e.page;i.serverApi.setPage(t),i.serverApi.incrementRequestCount(),E()}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return M.apply(this,arguments)}function M(){return(M=e(u)(e(l).mark((function t(){var n,r,a;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.serverApi.getMovieOnDemand(L);case 2:if(n=t.sent,r=n.results,a=n.total_results,v.options.totalItems=a,a<20?document.querySelector(".tui-js").classList.add("visually-hidden"):document.querySelector(".tui-js").classList.remove("visually-hidden"),0!==r.length){t.next=11;break}return e(A).Notify.failure("Search result not successful. Enter the correct movie name and",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),L=" ",t.abrupt("return");case 11:x(r);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}p.refs.formRef.addEventListener("submit",(function(e){return O.apply(this,arguments)})),a("jcFG7"),a("aZhHc"),a("3ngM5"),a("dkUq4"),a("dUjMA"),a("fDiVl"),a("j1lrD")}();
//# sourceMappingURL=index.12e99cab.js.map
