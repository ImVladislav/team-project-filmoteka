function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire62bd;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequire62bd=i),i("kyEFX").register(JSON.parse('{"5ZPII":"index.22f415f0.js","bRNsJ":"warship.6c844eb5.jpg","5UbS1":"index.fc1795ad.css","5fZck":"index.e43f1ed4.js"}')),i("bTcpz");var s=i("185lj");if((l=i("3fz09")).refs.langValue.addEventListener("change",(function(e){const t=e.target.value;s.serverApi.setlang(t),localStorage.setItem("language",JSON.stringify(t)),location.reload()})),localStorage.getItem("language")){const e=JSON.parse(localStorage.getItem("language"));l.refs.langValue.value=e,s.serverApi.setlang(e)}var a,o=i("eWCmQ"),l=i("3fz09"),c=(s=i("185lj"),i("fb9GJ")),d=(l=i("3fz09"),s=i("185lj"),i("1fedI")),u=i("2nhTy"),p=i("04jNI"),f=i("bRnc2");p=i("04jNI");a=new URL(i("kyEFX").resolve("bRNsJ"),import.meta.url).toString();const m=new(e(c))(l.refs.tuiContainer,u.options);function g(t){s.serverApi.setPage(1);const n=t.map((({original_title:e,title:t,poster_path:n,id:r,genre_ids:i,release_date:s})=>{const a=(0,d.posterÐ¡heck)(n);let o=null,l=null;const c=f.genresArr.reduce(((e,t)=>(i.includes(t.id)&&e.push(t.name),e)),[]);return c.length>3?(o=c.slice(0,2),o.splice(2,1,"Other")):o=0===c.length?["Genres not found"]:c,l=s?s.slice(0,4):"Release data no found",`\n        <li class="film__item" data-id="${r}">\n        <img src="${a}" class="film__img" alt="${e}" />\n        <div>\n        <p class="film__title">${t}</p>\n        <p class="film__genre">${o.join(", ")} | ${l}</p></div>\n      </li>`})).join("");return"ru"===l.refs.langValue.value?l.refs.gallery.innerHTML=`<li class="warship"><img src="${e(a)}" /></li>`:l.refs.gallery.innerHTML=n}async function v(){const e=await s.serverApi.getPopularMovie(),t=e.total_results;s.serverApi.setTotalResults(t),g(e.results),(0,p.spinnerStop)()}(0,p.spinnerPlay)(),m.on("beforeMove",(async e=>{m.setTotalItems(s.serverApi.totalResults);const t=e.page;s.serverApi.setPage(t),v()}));var y=i("it60l"),b=i("bTcpz"),_=i("9Co7P"),h=i("lFT8c"),S=i("c8VpK");p=i("04jNI");v(),l.refs.gallery.addEventListener("click",(async function(t){if("film__item"!==t.target.parentElement.className)return;(0,b.onOpenModal)(),(0,p.spinnerPlay)();const n=t.target.parentElement.dataset.id,r=await s.serverApi.getDetailsMovie(n),i=await(0,y.movieDescriptionMurkup)(r);l.refs.movieDescription.insertAdjacentHTML("beforeend",i),(0,p.spinnerStop)(),(0,h.makeWatchTextContent)(r),(0,h.makeQueueTextContent)(r);const a=document.querySelector("[data-add-watched]"),c=document.querySelector("[data-add-queue]"),d=document.querySelector("[data-modal-close]"),u=document.querySelector(".btn-ytb"),f=document.querySelector(".icon-youtube");s.serverApi.getTrailer(n).then((({results:t})=>{0!==t.length?(f.classList.add("icon-youtube__enable"),f.classList.remove("icon-youtube__disabled")):(f.classList.remove("icon-youtube__enable"),f.classList.add("icon-youtube__disabled"),u.setAttribute("disabled",!0),e(o).Notify.failure("Oh! Unfortunately there is no trailer",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}))})),a.addEventListener("click",(()=>(0,_.onAddWatchClick)(r))),c.addEventListener("click",(()=>(0,_.onAddQueueClick)(r))),u.addEventListener("click",S.handleClick),d.addEventListener("click",b.closeModal)}));o=i("eWCmQ"),c=i("fb9GJ"),l=i("3fz09"),s=i("185lj"),u=i("2nhTy"),p=i("04jNI");let A=" ";async function T(){const t=await s.serverApi.getMovieOnDemand(A),n=t.results,r=t.total_results;if(u.options.totalItems=r,r<20){document.querySelector(".tui-js").classList.add("visually-hidden")}else{document.querySelector(".tui-js").classList.remove("visually-hidden")}if(0===n.length)return v(),e(o).Notify.failure("Search result not successful. Enter the correct movie name and",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),void(A=" ");g(n)}l.refs.formRef.addEventListener("submit",(async function(t){t.preventDefault(),(0,p.spinnerPlay)();if(document.querySelector(".header__form-input").addEventListener("change",(()=>{s.serverApi.setPage(1),s.serverApi.setRequestCount()})),A=t.currentTarget.elements.serch_film.value.trim().toLowerCase(),!A)return void e(o).Notify.failure("Enter the name of the movie",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0});await T(),(0,p.spinnerStop)(),(0,p.spinnerStop)();new(e(c))(l.refs.tuiContainer,u.options).on("beforeMove",(e=>{const t=e.page;s.serverApi.setPage(t),s.serverApi.incrementRequestCount(),T()}))})),i("2nhTy"),i("7bYU0"),i("eobyt"),i("c8VpK"),i("3TU0j"),i("3hXKf"),i("04jNI"),i("2ix2C");
//# sourceMappingURL=index.22f415f0.js.map
