{"mappings":"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","sources":["src/index.js","src/js/gallery.js","src/js/utilitiesJS/murkupGalleryOnPageLoading.js","src/js/treiler.js","node_modules/basiclightbox/dist/basicLightbox.min.js","src/js/onSearchForm.js"],"sourcesContent":["import './js/modal';\nimport './js/gallery';\nimport './js/onSearchForm';\nimport './js/pagination';\nimport './js/modal-team';\nimport './js/theme-dark';\nimport './js/treiler';\nimport './js/scrollTop';\nimport './js/modal-login';\n\n","import 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { refs } from './utilitiesJS/refs';\nimport { serverApi } from './utilitiesJS/serverApi';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { murkupGallery } from './utilitiesJS/murkupGalleryOnPageLoading';\nimport { movieDescriptionMurkup } from './descriptionMurkup';\nimport { closeModal, onOpenModal } from './modal';\nimport { onAddQueueClick, onAddWatchClick } from './addFavorites';\nimport {\n  makeQueueTextContent,\n  makeWatchTextContent,\n} from './utilitiesJS/modalBtnTextContent';\nimport { handleClick } from './treiler';\n\n\nmurkupGallery();\n\nrefs.gallery.addEventListener(`click`, onClickMovie);\n\nasync function onClickMovie(e) {\n  if (e.target.parentElement.className !== 'film__item') {\n    return;\n  }\n\n  onOpenModal();\n\n  const id = e.target.parentElement.dataset.id;\n\n  const detailsMovie = await serverApi.getDetailsMovie(id);\n\n  const movieMurkup = await movieDescriptionMurkup(detailsMovie);\n\n  refs.movieDescription.insertAdjacentHTML('beforeend', movieMurkup);\n  makeWatchTextContent(detailsMovie);\n  makeQueueTextContent(detailsMovie);\n\n  const watchBtn = document.querySelector('[data-add-watched]');\n  const queueBtn = document.querySelector('[data-add-queue]');\n  const closeModalBtn = document.querySelector('[data-modal-close]');\n  const trailerBtn = document.querySelector('.btn-ytb');\n\n  watchBtn.addEventListener('click', () => onAddWatchClick(detailsMovie));\n  queueBtn.addEventListener('click', () => onAddQueueClick(detailsMovie));\n  trailerBtn.addEventListener('click', handleClick);\n\n  closeModalBtn.addEventListener('click', closeModal);\n}\n","import Pagination from 'tui-pagination';\n\nimport { refs } from './refs';\nimport { serverApi } from './serverApi';\nimport { posterСheck } from './posterCheck';\nimport { options } from '../pagination';\nimport { genres } from './genres';\nimport { genresArr } from './genres';\nimport { spinnerPlay, spinnerStop } from '../spinner';\n\n\nconst container = document.querySelector('.tui-pagination');\n\nconst pagination = new Pagination(container, options);\n\n// spinnerPlay();\n\npagination.on('beforeMove', async event => {\n  pagination.setTotalItems(serverApi.totalResults);\n  const currentPage = event.page;\n  serverApi.setPage(currentPage);\n  murkupGallery();\n});\n\nexport function murkupGalleryOnPageLoading(movies) {\n  const moviesMurkup = movies\n\n    .map(\n      ({ original_title, title, poster_path, id, genre_ids, release_date }) => {\n        const src = posterСheck(poster_path);\n\n        let genresMovie = null;\n        let releaseDate = null;\n\n        // проверка на жанры фильмов\n\n        const genresMovies = genresArr.reduce((acc, genre) => {\n          if (genre_ids.includes(genre.id)) {\n            acc.push(genre.name);\n          }\n          return acc;\n        }, []);\n\n        if (genresMovies.length > 3) {\n          genresMovie = genresMovies.slice(0, 2);\n          genresMovie.splice(2, 1, 'Other');\n        } else if (genresMovies.length === 0) {\n          genresMovie = [`Genres not found`];\n        } else {\n          genresMovie = genresMovies;\n        }\n\n        // проверка на дату релиза\n        if (release_date === '') {\n          releaseDate = 'Release data no found';\n        } else {\n          releaseDate = release_date.slice(0, 4);\n        }\n\n        return `\n        <li class=\"film__item\" data-id=\"${id}\">\n        <img src=\"${src}\" class=\"film__img\" alt=\"${original_title}\" />\n        <p class=\"film__title\">${title}</p>\n        <p class=\"film__genre\">${genresMovie.join(`, `)} | ${releaseDate}</p>\n      </li>`;\n      }\n    )\n    .join(``);\n\n  return (refs.gallery.innerHTML = moviesMurkup);\n}\n\nexport async function murkupGallery() {\n  const movies = await serverApi.getPopularMovie();\n\n  const total_results = movies.total_results;\n  serverApi.setTotalResults(total_results);\n\n  murkupGalleryOnPageLoading(movies.results);\n\n  spinnerStop();\n}\n","import * as basicLightbox from 'basiclightbox';\n\nimport { refs } from './utilitiesJS/refs';\nimport { serverApi } from './utilitiesJS/serverApi';\n\nexport const handleClick = async event => {\n  const movieDescriptionId = document.querySelector('.movie__description');\n  const trailerId = movieDescriptionId.dataset.movieId;\n\n  let trailerKey = '';\n  serverApi.getTrailer(trailerId).then(({ results }) => {\n    results.map(element => {\n      if (element.type === 'Trailer' && element.name === 'Official Trailer') {\n        trailerKey = element.key;\n      }\n    });\n    const instance = basicLightbox.create(`\n      <button\n        type=\"button\"\n        class=\"lightbox__button\"\n        data-action=\"close-lightbox\"\n        ></button>\n   <iframe class=\"player\" width=\"560\" height=\"315\"\n   src='https://www.youtube.com/embed/${trailerKey}'frameborder=\"0\" \n   allow=\"accelerometer; autoplay; encrypted-media; gyroscope; \n   picture-in-picture\" allowfullscreen></iframe>\n \n`);\n\n    instance.show();\n    const modalCloseBtn = document.querySelector(\n      '[data-action=\"close-lightbox\"]'\n    );\n    modalCloseBtn.addEventListener('click', () => instance.close());\n  });\n};\n\n// refs.trailerBtn.addEventListener('click', handleClick);\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).basicLightbox=e()}}((function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error(\"Cannot find module '\"+c+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i=\"function\"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement(\"div\");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(\".basicLightbox\"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i;t.create=function(e,n){var t=function(e,n){var t=o('\\n\\t\\t<div class=\"basicLightbox '.concat(n.className,'\">\\n\\t\\t\\t<div class=\"basicLightbox__placeholder\" role=\"dialog\"></div>\\n\\t\\t</div>\\n\\t')),i=t.querySelector(\".basicLightbox__placeholder\");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,\"IMG\"),u=r(i,\"VIDEO\"),s=r(i,\"IFRAME\");return!0===c&&t.classList.add(\"basicLightbox--img\"),!0===u&&t.classList.add(\"basicLightbox--video\"),!0===s&&t.classList.add(\"basicLightbox--iframe\"),t}(e=function(e){var n=\"string\"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error(\"Content must be a DOM element/node or string\");return!0===n?Array.from(o(e,!0)):\"TEMPLATE\"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=\"\"),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),\"boolean\"!=typeof e.closable)throw new Error(\"Property `closable` must be a boolean\");if(\"string\"!=typeof e.className)throw new Error(\"Property `className` must be a string\");if(\"function\"!=typeof e.onShow)throw new Error(\"Property `onShow` must be a function\");if(\"function\"!=typeof e.onClose)throw new Error(\"Property `onClose` must be a function\");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove(\"basicLightbox--visible\"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener(\"click\",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add(\"basicLightbox--visible\"),n()}))}),10),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)}));","import Notiflix from 'notiflix';\nimport Pagination from 'tui-pagination';\n\nimport { refs } from './utilitiesJS/refs';\nimport { serverApi } from './utilitiesJS/serverApi';\nimport { options } from './pagination';\nimport { murkupGalleryOnPageLoading } from './utilitiesJS/murkupGalleryOnPageLoading';\n\n\nlet searchQuery = ' ';\nrefs.formRef.addEventListener('submit', onSubmitClick);\n\nasync function onSubmitClick(event) {\n  event.preventDefault();\n\n  const inputRef = document.querySelector('.header__form-input');\n  inputRef.addEventListener('change', () => {\n    serverApi.setPage(1);\n    serverApi.setRequestCount();\n  });\n\n  searchQuery = event.currentTarget.elements.serch_film.value\n    .trim()\n    .toLowerCase();\n\n  if (!searchQuery) {\n    Notiflix.Notify.failure('Enter the name of the movie', {\n      position: 'center-top',\n      fontFamily: 'inherit',\n      borderRadius: '25px',\n      clickToClose: true,\n    });\n    return;\n  }\n\n  await murkupSearchMovie();\n\n  const container = document.querySelector('.tui-pagination');\n\n  const pagination = new Pagination(container, options);\n\n  pagination.on('beforeMove', event => {\n    const currentPage = event.page;\n    serverApi.setPage(currentPage);\n    serverApi.incrementRequestCount();\n    murkupSearchMovie();\n  });\n}\n\nexport async function murkupSearchMovie() {\n  const data = await serverApi.getMovieOnDemand(searchQuery);\n  const movies = data.results;\n  const total_results = data.total_results;\n  options.totalItems = total_results;\n\n  if (total_results < 20) {\n    const item = document.querySelector('.tui-js');\n    item.classList.add('visually-hidden');\n  } else {\n    const item = document.querySelector('.tui-js');\n    item.classList.remove('visually-hidden');\n  }\n\n  if (movies.length === 0) {\n    Notiflix.Notify.failure(\n      'Search result not successful. Enter the correct movie name and',\n      {\n        position: 'center-top',\n        fontFamily: 'inherit',\n        borderRadius: '25px',\n        clickToClose: true,\n      }\n    );\n    searchQuery = ' ';\n    return;\n  }\n\n  murkupGalleryOnPageLoading(movies);\n}\n"],"names":["parcelRequire","$bpxeT","$0ced5e31662a45f8$var$container","document","querySelector","$0ced5e31662a45f8$var$pagination","$parcel$interopDefault","$1VFfL","$jcFG7","options","$0ced5e31662a45f8$export$ce0b9808aa57ae7d","movies","moviesMurkup","map","param","original_title","title","poster_path","id","genre_ids","release_date","src","$9PJ7S","genresMovie","releaseDate","genresMovies","$4zVoc","genresArr","reduce","acc","genre","includes","push","name","length","slice","splice","concat","join","$hiFhO","refs","gallery","innerHTML","$0ced5e31662a45f8$export$6bb355015a1580b","$0ced5e31662a45f8$var$_murkupGallery","apply","this","arguments","$2TvXO","mark","_callee","total_results","$jaaYu","serverApi","getPopularMovie","_ctx","sent","setTotalResults","results","$dd8ebecfaae47a78$exports","spinnerStop","on","event","currentPage","setTotalItems","totalResults","page","setPage","$9df926e0a287432e$exports","e1","n","t","o","r","c","u","s","undefined","i","a","Error","code","l","exports","call","e","c1","e2","n1","Object","defineProperty","value","create","visible","_$t","createElement","trim","children","firstChild","tagName","i1","ownerDocument","body","contains","e3","n2","_$t1","e4","className","forEach","appendChild","classList","add","_$n","HTMLElement","Array","from","content","cloneNode","_$e","assign","closable","onShow","onClose","c2","e5","u1","remove","setTimeout","parentElement","removeChild","addEventListener","target","element","show","e6","requestAnimationFrame","close","$9b58e85e9af6e296$export$b981489921ee18cd","movieDescriptionId","trailerId","trailerKey","dataset","movieId","getTrailer","then","type","key","instance","$6756f0db6f988caf$var$_onClickMovie","detailsMovie","movieMurkup","watchBtn","queueBtn","closeModalBtn","trailerBtn","$5xtVg","onOpenModal","getDetailsMovie","$kiFmR","movieDescriptionMurkup","movieDescription","insertAdjacentHTML","$5HOzi","makeWatchTextContent","makeQueueTextContent","$4cXS4","onAddWatchClick","onAddQueueClick","closeModal","$98475668925f8ab5$var$searchQuery","$98475668925f8ab5$var$_onSubmitClick","event1","container","preventDefault","setRequestCount","currentTarget","elements","serch_film","toLowerCase","$iU1Pc","Notify","failure","position","fontFamily","borderRadius","clickToClose","$98475668925f8ab5$export$80a6146058001a40","incrementRequestCount","$98475668925f8ab5$var$_murkupSearchMovie","data","getMovieOnDemand","totalItems","formRef"],"version":3,"file":"index.7034c84f.js.map"}