!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire62bd;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire62bd=o),o("5xtVg");var i,a=o("bpxeT"),c=o("2TvXO"),s=o("hiFhO"),u=o("jaaYu"),l=(a=o("bpxeT"),c=o("2TvXO"),o("1VFfL")),f=(s=o("hiFhO"),u=o("jaaYu"),o("9PJ7S")),d=o("jcFG7"),p=o("4zVoc"),m=(p=o("4zVoc"),{}),v=document.querySelector(".tui-pagination"),h=new(e(l))(v,d.options);function b(e){var t=e.map((function(e){var t=e.original_title,n=e.title,r=e.poster_path,o=e.id,i=e.genre_ids,a=e.release_date,c=(0,f.posterÐ¡heck)(r),s=null,u=null,l=p.genresArr.reduce((function(e,t){return i.includes(t.id)&&e.push(t.name),e}),[]);return l.length>3?(s=l.slice(0,2)).splice(2,1,"Other"):s=0===l.length?["Genres not found"]:l,u=""===a?"Release data no found":a.slice(0,4),'\n        <li class="film__item" data-id="'.concat(o,'">\n        <img src="').concat(c,'" class="film__img" alt="').concat(t,'" />\n        <p class="film__title">').concat(n,'</p>\n        <p class="film__genre">').concat(s.join(", ")," | ").concat(u,"</p>\n      </li>")})).join("");return s.refs.gallery.innerHTML=t}function y(){return g.apply(this,arguments)}function g(){return(g=e(a)(e(c).mark((function t(){var n,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.serverApi.getPopularMovie();case 2:n=e.sent,r=n.total_results,u.serverApi.setTotalResults(r),b(n.results),(0,m.spinnerStop)();case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}h.on("beforeMove",(i=e(a)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.setTotalItems(u.serverApi.totalResults),r=n.page,u.serverApi.setPage(r),y();case 4:case"end":return e.stop()}}),t)}))),function(e){return i.apply(this,arguments)}));var w=o("kiFmR"),x=o("5xtVg"),L=o("4cXS4"),_=o("5HOzi"),E=(a=o("bpxeT"),c=o("2TvXO"),{});E=function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var s=void 0;if(!c&&s)return s(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return o(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},o=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},i=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=i,n.create=function(e,t){var n=function(e,t){var n=r('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),i=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return i.appendChild(e)}));var a=o(i,"IMG"),c=o(i,"VIDEO"),s=o(i,"IFRAME");return!0===a&&n.classList.add("basicLightbox--img"),!0===c&&n.classList.add("basicLightbox--video"),!0===s&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(r(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),a=function(e){return!1!==t.onClose(c)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(c)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&a()}));var c={element:function(){return n},visible:function(){return i(n)},show:function(e){return!1!==t.onShow(c)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(c)}))},close:a};return c}},{}]},{},[1])(1),o("hiFhO");u=o("jaaYu");var T=function(){var t=e(a)(e(c).mark((function t(n){var r,o,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=document.querySelector(".movie__description"),o=r.dataset.movieId,i="",u.serverApi.getTrailer(o).then((function(e){e.results.map((function(e){"Trailer"===e.type&&"Official Trailer"===e.name&&(i=e.key)}));var t=E.create('      \n        <div class="player-container"></div>\n   <iframe class="player" src=\'https://www.youtube.com/embed/'.concat(i,'\'frameborder="0" \n   allow="accelerometer; autoplay; encrypted-media; gyroscope; \n   picture-in-picture" allowfullscreen></iframe> \n'));t.show(),document.querySelector('[data-action="close-lightbox"]').addEventListener("click",(function(){return t.close()}))}));case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function k(){return(k=e(a)(e(c).mark((function t(n){var r,o,i,a,l,f,d;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("film__item"===n.target.parentElement.className){e.next=2;break}return e.abrupt("return");case 2:return(0,x.onOpenModal)(),r=n.target.parentElement.dataset.id,e.next=6,u.serverApi.getDetailsMovie(r);case 6:return o=e.sent,e.next=9,(0,w.movieDescriptionMurkup)(o);case 9:i=e.sent,s.refs.movieDescription.insertAdjacentHTML("beforeend",i),(0,_.makeWatchTextContent)(o),(0,_.makeQueueTextContent)(o),a=document.querySelector("[data-add-watched]"),l=document.querySelector("[data-add-queue]"),f=document.querySelector("[data-modal-close]"),d=document.querySelector(".btn-ytb"),a.addEventListener("click",(function(){return(0,L.onAddWatchClick)(o)})),l.addEventListener("click",(function(){return(0,L.onAddQueueClick)(o)})),d.addEventListener("click",T),f.addEventListener("click",x.closeModal);case 21:case"end":return e.stop()}}),t)})))).apply(this,arguments)}y(),s.refs.gallery.addEventListener("click",(function(e){return k.apply(this,arguments)}));a=o("bpxeT"),c=o("2TvXO");var O=o("iU1Pc"),M=(l=o("1VFfL"),s=o("hiFhO"),u=o("jaaYu"),d=o("jcFG7")," ");function S(){return(S=e(a)(e(c).mark((function t(n){var r;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),document.querySelector(".header__form-input").addEventListener("change",(function(){u.serverApi.setPage(1),u.serverApi.setRequestCount()})),M=n.currentTarget.elements.serch_film.value.trim().toLowerCase()){t.next=7;break}return e(O).Notify.failure("Enter the name of the movie",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),t.abrupt("return");case 7:return t.next=9,A();case 9:r=document.querySelector(".tui-pagination"),new(e(l))(r,d.options).on("beforeMove",(function(e){var t=e.page;u.serverApi.setPage(t),u.serverApi.incrementRequestCount(),A()}));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return C.apply(this,arguments)}function C(){return(C=e(a)(e(c).mark((function t(){var n,r,o;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.serverApi.getMovieOnDemand(M);case 2:if(n=t.sent,r=n.results,o=n.total_results,d.options.totalItems=o,o<20?document.querySelector(".tui-js").classList.add("visually-hidden"):document.querySelector(".tui-js").classList.remove("visually-hidden"),0!==r.length){t.next=11;break}return e(O).Notify.failure("Search result not successful. Enter the correct movie name and",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),M=" ",t.abrupt("return");case 11:b(r);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s.refs.formRef.addEventListener("submit",(function(e){return S.apply(this,arguments)})),o("jcFG7"),o("aZhHc"),o("3ngM5"),o("dUjMA"),o("fDiVl")}();
//# sourceMappingURL=index.aaca89f2.js.map
