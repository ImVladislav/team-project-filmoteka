function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire62bd;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire62bd=i),i("bTcpz");var o=i("3fz09"),s=i("185lj"),a=i("fb9GJ"),l=(o=i("3fz09"),s=i("185lj"),i("1fedI")),c=i("2nhTy"),d=i("bRnc2"),u=i("04jNI");const p=document.querySelector(".tui-pagination"),f=new(e(a))(p,c.options);function m(e){const t=e.map((({original_title:e,title:t,poster_path:n,id:r,genre_ids:i,release_date:o})=>{const s=(0,l.posterÐ¡heck)(n);let a=null,c=null;const u=d.genresArr.reduce(((e,t)=>(i.includes(t.id)&&e.push(t.name),e)),[]);return u.length>3?(a=u.slice(0,2),a.splice(2,1,"Other")):a=0===u.length?["Genres not found"]:u,c=""===o?"Release data no found":o.slice(0,4),`\n        <li class="film__item" data-id="${r}">\n        <img src="${s}" class="film__img" alt="${e}" loading="lazy" width="368" height="591"/>\n        <p class="film__title">${t}</p>\n        <p class="film__genre">${a.join(", ")} | ${c}</p>\n      </li>`})).join("");return o.refs.gallery.innerHTML=t}async function v(){const e=await s.serverApi.getPopularMovie(),t=e.total_results;s.serverApi.setTotalResults(t),m(e.results),(0,u.spinnerStop)()}(0,u.spinnerPlay)(),f.on("beforeMove",(async e=>{(0,u.spinnerPlay)(),f.setTotalItems(s.serverApi.totalResults);const t=e.page;s.serverApi.setPage(t),v()}));var y=i("it60l"),g=i("bTcpz"),h=i("9Co7P"),_=i("lFT8c"),b=i("c8VpK");u=i("04jNI");v(),o.refs.gallery.addEventListener("click",(async function(e){if("film__item"!==e.target.parentElement.className)return;(0,g.onOpenModal)(),(0,u.spinnerPlay)();const t=e.target.parentElement.dataset.id,n=await s.serverApi.getDetailsMovie(t),r=await(0,y.movieDescriptionMurkup)(n);o.refs.movieDescription.insertAdjacentHTML("beforeend",r),(0,u.spinnerStop)(),(0,_.makeWatchTextContent)(n),(0,_.makeQueueTextContent)(n);const i=document.querySelector("[data-add-watched]"),a=document.querySelector("[data-add-queue]"),l=document.querySelector("[data-modal-close]"),c=document.querySelector(".btn-ytb");i.addEventListener("click",(()=>(0,h.onAddWatchClick)(n))),a.addEventListener("click",(()=>(0,h.onAddQueueClick)(n))),c.addEventListener("click",b.handleClick),l.addEventListener("click",g.closeModal)}));var T=i("eWCmQ");a=i("fb9GJ"),o=i("3fz09"),s=i("185lj"),c=i("2nhTy"),u=i("04jNI");let w=" ";async function k(){const t=await s.serverApi.getMovieOnDemand(w),n=t.results,r=t.total_results;if(c.options.totalItems=r,r<20){document.querySelector(".tui-js").classList.add("visually-hidden")}else{document.querySelector(".tui-js").classList.remove("visually-hidden")}if(0===n.length)return e(T).Notify.failure("Search result not successful. Enter the correct movie name and",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),void(w=" ");m(n)}o.refs.formRef.addEventListener("submit",(async function(t){t.preventDefault(),(0,u.spinnerPlay)();if(document.querySelector(".header__form-input").addEventListener("change",(()=>{s.serverApi.setPage(1),s.serverApi.setRequestCount()})),w=t.currentTarget.elements.serch_film.value.trim().toLowerCase(),!w)return void e(T).Notify.failure("Enter the name of the movie",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0});await k(),(0,u.spinnerStop)();const n=document.querySelector(".tui-pagination");new(e(a))(n,c.options).on("beforeMove",(e=>{const t=e.page;s.serverApi.setPage(t),s.serverApi.incrementRequestCount(),k()}))})),i("2nhTy"),i("7bYU0"),i("eobyt"),i("c8VpK"),i("3TU0j"),i("3hXKf"),i("04jNI");
//# sourceMappingURL=index.acf53e74.js.map
