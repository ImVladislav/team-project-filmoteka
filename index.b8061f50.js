!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire62bd;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire62bd=i),i("5xtVg");var o,a,s,c,u=i("bpxeT"),l=i("2TvXO"),d=i("hiFhO"),f=i("jaaYu"),p=(u=i("bpxeT"),l=i("2TvXO"),i("1VFfL")),h=(d=i("hiFhO"),f=i("jaaYu"),i("9PJ7S")),m=i("jcFG7"),v=i("4zVoc"),b=(v=i("4zVoc"),{});o=b,a="Spinner",s=function(){return w},c=function(e){return w=e},Object.defineProperty(o,a,{get:s,set:c,enumerable:!0,configurable:!0});var g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},g.apply(this,arguments)},y={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},w=function(){function e(e){void 0===e&&(e={}),this.opts=g(g({},y),e)}return e.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),x(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),e&&e.insertBefore(this.el,e.firstChild||null),function(e,t){var n=Math.round(t.corners*t.width*500)/1e3+"px",r="none";!0===t.shadow?r="0 2px 4px #000":"string"==typeof t.shadow&&(r=t.shadow);for(var i=function(e){for(var t=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],r=0,i=e.split(",");r<i.length;r++){var o=i[r].match(t);if(null!==o){var a=+o[2],s=+o[5],c=o[4],u=o[7];0!==a||c||(c=u),0!==s||u||(u=c),c===u&&n.push({prefix:o[1]||"",x:a,y:s,xUnits:c,yUnits:u,end:o[8]})}}return n}(r),o=0;o<t.lines;o++){var a=~~(360/t.lines*o+t.rotate),s=x(document.createElement("div"),{position:"absolute",top:-t.width/2+"px",width:t.length+t.width+"px",height:t.width+"px",background:L(t.fadeColor,o),borderRadius:n,transformOrigin:"left",transform:"rotate("+a+"deg) translateX("+t.radius+"px)"}),c=o*t.direction/t.lines/t.speed;c-=1/t.speed;var u=x(document.createElement("div"),{width:"100%",height:"100%",background:L(t.color,o),borderRadius:n,boxShadow:_(i,a),animation:1/t.speed+"s linear "+c+"s infinite "+t.animation});s.appendChild(u),e.appendChild(s)}}(this.el,this.opts),this},e.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},e}();function x(e,t){for(var n in t)e.style[n]=t[n];return e}function L(e,t){return"string"==typeof e?e:e[t%e.length]}function _(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=E(o.x,o.y,t);n.push(o.prefix+a[0]+o.xUnits+" "+a[1]+o.yUnits+o.end)}return n.join(", ")}function E(e,t,n){var r=n*Math.PI/180,i=Math.sin(r),o=Math.cos(r);return[Math.round(1e3*(e*o+t*i))/1e3,Math.round(1e3*(-e*i+t*o))/1e3]}d=i("hiFhO");var T=new(0,b.Spinner)({lines:14,length:27,width:20,radius:33,scale:1.95,corners:1,speed:1,rotate:18,animation:"spinner-line-shrink",direction:1,color:"#ff6b08",fadeColor:"transparent",top:"49%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"}).spin(d.refs.spinner);function k(){T.spin(d.refs.spinner),d.refs.load.classList.remove("is-hidden")}function O(){d.refs.load.classList.add("is-hidden"),T.stop()}var C,M=document.querySelector(".tui-pagination"),A=new(e(p))(M,m.options);function S(e){var t=e.map((function(e){var t=e.original_title,n=e.title,r=e.poster_path,i=e.id,o=e.genre_ids,a=e.release_date,s=(0,h.posterÐ¡heck)(r),c=null,u=null,l=v.genresArr.reduce((function(e,t){return o.includes(t.id)&&e.push(t.name),e}),[]);return l.length>3?(c=l.slice(0,2)).splice(2,1,"Other"):c=0===l.length?["Genres not found"]:l,u=""===a?"Release data no found":a.slice(0,4),'\n        <li class="film__item" data-id="'.concat(i,'">\n        <img src="').concat(s,'" class="film__img" alt="').concat(t,'" />\n        <p class="film__title">').concat(n,'</p>\n        <p class="film__genre">').concat(c.join(", ")," | ").concat(u,"</p>\n      </li>")})).join("");return d.refs.gallery.innerHTML=t}function N(){return q.apply(this,arguments)}function q(){return(q=e(u)(e(l).mark((function t(){var n,r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.serverApi.getPopularMovie();case 2:n=e.sent,r=n.total_results,f.serverApi.setTotalResults(r),S(n.results),O();case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}k(),A.on("beforeMove",(C=e(u)(e(l).mark((function t(n){var r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(),A.setTotalItems(f.serverApi.totalResults),r=n.page,f.serverApi.setPage(r),N();case 5:case"end":return e.stop()}}),t)}))),function(e){return C.apply(this,arguments)}));var j=i("kiFmR"),F=i("5xtVg"),P=i("4cXS4"),R=i("5HOzi"),D=(u=i("bpxeT"),l=i("2TvXO"),{});D=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c=void 0;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},i=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},o=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=o,n.create=function(e,t){var n=function(e,t){var n=r('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),o=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return o.appendChild(e)}));var a=i(o,"IMG"),s=i(o,"VIDEO"),c=i(o,"IFRAME");return!0===a&&n.classList.add("basicLightbox--img"),!0===s&&n.classList.add("basicLightbox--video"),!0===c&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(r(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),a=function(e){return!1!==t.onClose(s)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===o(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(s)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&a()}));var s={element:function(){return n},visible:function(){return o(n)},show:function(e){return!1!==t.onShow(s)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(s)}))},close:a};return s}},{}]},{},[1])(1),i("hiFhO");f=i("jaaYu");var I=function(){var t=e(u)(e(l).mark((function t(n){var r,i,o;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(),r=document.querySelector(".movie__description"),i=r.dataset.movieId,o="",f.serverApi.getTrailer(i).then((function(e){e.results.map((function(e){"Trailer"===e.type&&"Official Trailer"===e.name&&(o=e.key)})),O();var t=D.create('\n      <button\n        type="button"\n        class="lightbox__button"\n        data-action="close-lightbox"\n        ></button>\n   <iframe class="player" width="560" height="315"\n   src=\'https://www.youtube.com/embed/'.concat(o,'\'frameborder="0" \n\n   allow="accelerometer; autoplay; encrypted-media; gyroscope; \n   picture-in-picture" allowfullscreen></iframe> \n'));t.show(),document.querySelector('[data-action="close-lightbox"]').addEventListener("click",(function(){return t.close()}))}));case 5:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function z(){return z=e(u)(e(l).mark((function t(n){var r,i,o,a,s,c,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("film__item"===n.target.parentElement.className){e.next=2;break}return e.abrupt("return");case 2:return(0,F.onOpenModal)(),k(),r=n.target.parentElement.dataset.id,e.next=7,f.serverApi.getDetailsMovie(r);case 7:return i=e.sent,e.next=10,(0,j.movieDescriptionMurkup)(i);case 10:o=e.sent,d.refs.movieDescription.insertAdjacentHTML("beforeend",o),O(),(0,R.makeWatchTextContent)(i),(0,R.makeQueueTextContent)(i),a=document.querySelector("[data-add-watched]"),s=document.querySelector("[data-add-queue]"),c=document.querySelector("[data-modal-close]"),u=document.querySelector(".btn-ytb"),a.addEventListener("click",(function(){return(0,P.onAddWatchClick)(i)})),s.addEventListener("click",(function(){return(0,P.onAddQueueClick)(i)})),u.addEventListener("click",I),c.addEventListener("click",F.closeModal);case 23:case"end":return e.stop()}}),t)}))),z.apply(this,arguments)}N(),d.refs.gallery.addEventListener("click",(function(e){return z.apply(this,arguments)}));u=i("bpxeT"),l=i("2TvXO");var U=i("iU1Pc"),V=(p=i("1VFfL"),d=i("hiFhO"),f=i("jaaYu"),m=i("jcFG7")," ");function H(){return(H=e(u)(e(l).mark((function t(n){var r;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),k(),document.querySelector(".header__form-input").addEventListener("change",(function(){f.serverApi.setPage(1),f.serverApi.setRequestCount()})),V=n.currentTarget.elements.serch_film.value.trim().toLowerCase()){t.next=8;break}return e(U).Notify.failure("Enter the name of the movie",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),t.abrupt("return");case 8:return t.next=10,X();case 10:O(),r=document.querySelector(".tui-pagination"),new(e(p))(r,m.options).on("beforeMove",(function(e){var t=e.page;f.serverApi.setPage(t),f.serverApi.incrementRequestCount(),X()}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(){return G.apply(this,arguments)}function G(){return(G=e(u)(e(l).mark((function t(){var n,r,i;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.serverApi.getMovieOnDemand(V);case 2:if(n=t.sent,r=n.results,i=n.total_results,m.options.totalItems=i,i<20?document.querySelector(".tui-js").classList.add("visually-hidden"):document.querySelector(".tui-js").classList.remove("visually-hidden"),0!==r.length){t.next=11;break}return e(U).Notify.failure("Search result not successful. Enter the correct movie name and",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),V=" ",t.abrupt("return");case 11:S(r);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}d.refs.formRef.addEventListener("submit",(function(e){return H.apply(this,arguments)})),i("jcFG7"),i("aZhHc"),i("3ngM5"),i("dUjMA"),i("fDiVl")}();
//# sourceMappingURL=index.b8061f50.js.map
