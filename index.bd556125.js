function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},s=t.parcelRequire62bd;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var s={id:e,exports:{}};return r[e]=s,t.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequire62bd=s),s("kyEFX").register(JSON.parse('{"5ZPII":"index.bd556125.js","bRNsJ":"warship.6c844eb5.jpg","5UbS1":"index.290cb586.css","5fZck":"index.50b27811.js"}')),s("bTcpz");var a=s("185lj");if((o=s("3fz09")).refs.langValue.addEventListener("change",(function(e){const t=e.target.value;a.serverApi.setlang(t),localStorage.setItem("language",JSON.stringify(t)),location.reload()})),localStorage.getItem("language")){const e=JSON.parse(localStorage.getItem("language"));o.refs.langValue.value=e,a.serverApi.setlang(e)}a=s("185lj");if((o=s("3fz09")).refs.trend.addEventListener("change",(function(e){const t=e.target.value;a.serverApi.setTrend(t),localStorage.setItem("selected-trend",JSON.stringify(t)),location.reload()})),localStorage.getItem("selected-trend")){const e=JSON.parse(localStorage.getItem("selected-trend"));o.refs.trend.value=e,a.serverApi.setTrend(e)}var i,l=s("eWCmQ"),o=s("3fz09"),c=(a=s("185lj"),s("fb9GJ")),d=(o=s("3fz09"),a=s("185lj"),s("1fedI")),u=s("2nhTy"),p=s("04jNI"),f=s("bRnc2");p=s("04jNI");i=new URL(s("kyEFX").resolve("bRNsJ"),import.meta.url).toString();const g=new(e(c))(o.refs.tuiContainer,u.options);function v(t){a.serverApi.setPage(1);const r=t.map((({original_title:t,title:r,poster_path:n,id:s,genre_ids:a,release_date:l})=>{const c=(0,d.posterСheck)(n);let u=null,p=null,g=null;return"ru"===o.refs.langValue.value?o.refs.gallery.innerHTML=`<li class="warship"><img src="${e(i)}" /></li>`:("en-US"===o.refs.langValue.value?(g=f.genresArr.reduce(((e,t)=>(a.includes(t.id)&&e.push(t.name),e)),[]),g.length>3?(u=g.slice(0,2),u.splice(2,1,"Other")):u=0===g.length?["Genres not found"]:g,p=l?l.slice(0,4):"Release data no found"):"uk"===o.refs.langValue.value&&(g=f.genresUK.reduce(((e,t)=>(a.includes(t.id)&&e.push(t.name),e)),[]),g.length>3?(u=g.slice(0,2),u.splice(2,1,"Інше")):u=0===g.length?["Жанрів не знайдено"]:g,p=l?l.slice(0,4):"Дату релізу не знайдено"),`\n        <li class="film__item" data-id="${s}">\n        <img src="${c}" class="film__img" alt="${t}" />\n        <div>\n        <p class="film__title">${r}</p>\n        <p class="film__genre">${u.join(", ")} | ${p}</p></div>\n      </li>`)})).join("");return o.refs.gallery.innerHTML=r}async function m(){try{let e=[];e="top"===o.refs.trend.value?await a.serverApi.getTop():"popular"===o.refs.trend.value?await a.serverApi.getPopular():await a.serverApi.getPopularMovie(),a.serverApi.setTotalResults(e.total_results),v(e.results)}catch(e){console.log(e)}(0,p.spinnerStop)()}(0,p.spinnerPlay)(),g.on("beforeMove",(async e=>{(0,p.spinnerPlay)(),g.setTotalItems(a.serverApi.totalResults),"top"===o.refs.trend.value||"popular"===o.refs.trend.value?(g.setTotalItems(1e4),a.serverApi.setTotalResults(1e4)):g.setTotalItems(a.serverApi.totalResults);const t=e.page;a.serverApi.setPage(t),m()}));var y=s("it60l"),h=s("bTcpz"),b=s("9Co7P"),_=s("lFT8c"),S=s("c8VpK"),A=(p=s("04jNI"),s("6yrCC"));m(),o.refs.gallery.addEventListener("click",(async function(t){if("film__item"!==t.target.parentElement.className)return;(0,h.onOpenModal)(),(0,p.spinnerPlay)();const r=t.target.parentElement.dataset.id,n=await a.serverApi.getDetailsMovie(r),s=await(0,y.movieDescriptionMurkup)(n);o.refs.movieDescription.insertAdjacentHTML("beforeend",s),(0,p.spinnerStop)(),(0,_.makeWatchTextContent)(n),(0,_.makeQueueTextContent)(n);const i=document.querySelector("[data-add-watched]"),c=document.querySelector("[data-add-queue]"),d=document.querySelector("[data-modal-close]"),u=document.querySelector(".btn-ytb"),f=document.querySelector(".icon-youtube"),g=document.querySelector("[data-cast]");a.serverApi.getTrailer(r).then((({results:t})=>{0!==t.length?(f.classList.add("icon-youtube__enable"),f.classList.remove("icon-youtube__disabled")):(f.classList.remove("icon-youtube__enable"),f.classList.add("icon-youtube__disabled"),u.setAttribute("disabled",!0),e(l).Notify.failure("Oh! Unfortunately there is no trailer",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}))})),i.addEventListener("click",(()=>(0,b.onAddWatchClick)(n))),c.addEventListener("click",(()=>(0,b.onAddQueueClick)(n))),u.addEventListener("click",S.handleClick),g.addEventListener("click",(()=>(0,A.markupCast)(r))),d.addEventListener("click",h.closeModal)}));l=s("eWCmQ"),c=s("fb9GJ"),o=s("3fz09"),a=s("185lj"),u=s("2nhTy"),p=s("04jNI");let T=" ";async function C(){const t=await a.serverApi.getMovieOnDemand(T),r=t.results,n=t.total_results;if(u.options.totalItems=n,n<20&&0!==n?o.refs.tuiContainer.classList.add("visually-hidden"):o.refs.tuiContainer.classList.remove("visually-hidden"),0===r.length)return m(),e(l).Notify.failure("Search result not successful. Enter the correct movie name and",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),T=" ",void history.goBack();v(r)}o.refs.formRef.addEventListener("submit",(async function(t){t.preventDefault(),(0,p.spinnerPlay)();if(document.querySelector(".header__form-input").addEventListener("change",(()=>{a.serverApi.setPage(1),a.serverApi.setRequestCount()})),T=t.currentTarget.elements.serch_film.value.trim().toLowerCase(),!T)return e(l).Notify.failure("Enter the name of the movie",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),void(0,p.spinnerStop)();await C(),(0,p.spinnerStop)();new(e(c))(o.refs.tuiContainer,u.options).on("beforeMove",(e=>{const t=e.page;a.serverApi.setPage(t),a.serverApi.incrementRequestCount(),C()})),t.target.reset()})),s("2nhTy"),s("7bYU0"),s("eobyt"),s("c8VpK"),s("3TU0j"),s("3hXKf"),s("04jNI"),s("2ix2C");
//# sourceMappingURL=index.bd556125.js.map
