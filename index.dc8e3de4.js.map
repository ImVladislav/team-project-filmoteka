{"mappings":"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","sources":["src/index.js","src/js/utilitiesJS/murkupGalleryOnPageLoading.js","node_modules/spin.js/spin.js","src/js/spinner.js","node_modules/basiclightbox/dist/basicLightbox.min.js","src/js/treiler.js","src/js/gallery.js","src/js/onSearchForm.js"],"sourcesContent":["import './js/modal';\nimport './js/gallery';\nimport './js/onSearchForm';\nimport './js/pagination';\nimport './js/modal-team';\nimport './js/theme-dark';\nimport './js/treiler';\nimport './js/scrollTop';\nimport './js/modal-login';\nimport './js/spinner';\n","import Pagination from 'tui-pagination';\n\nimport { refs } from './refs';\nimport { serverApi } from './serverApi';\nimport { posterÐ¡heck } from './posterCheck';\nimport { options } from '../pagination';\nimport { genres } from './genres';\nimport { genresArr } from './genres';\nimport { spinnerPlay, spinnerStop } from '../spinner';\n\n\nconst container = document.querySelector('.tui-pagination');\n\nconst pagination = new Pagination(container, options);\n\nspinnerPlay();\n\npagination.on('beforeMove', async event => {\n\nspinnerPlay();\n\n  pagination.setTotalItems(serverApi.totalResults);\n  const currentPage = event.page;\n  serverApi.setPage(currentPage);\n  murkupGallery();\n});\n\nexport function murkupGalleryOnPageLoading(movies) {\n  const moviesMurkup = movies\n\n    .map(\n      ({ original_title, title, poster_path, id, genre_ids, release_date }) => {\n        const src = posterÐ¡heck(poster_path);\n\n        let genresMovie = null;\n        let releaseDate = null;\n\n        // Ð¿ÑÐ¾Ð²ÐµÑÐºÐ° Ð½Ð° Ð¶Ð°Ð½ÑÑ ÑÐ¸Ð»ÑÐ¼Ð¾Ð²\n\n        const genresMovies = genresArr.reduce((acc, genre) => {\n          if (genre_ids.includes(genre.id)) {\n            acc.push(genre.name);\n          }\n          return acc;\n        }, []);\n\n        if (genresMovies.length > 3) {\n          genresMovie = genresMovies.slice(0, 2);\n          genresMovie.splice(2, 1, 'Other');\n        } else if (genresMovies.length === 0) {\n          genresMovie = [`Genres not found`];\n        } else {\n          genresMovie = genresMovies;\n        }\n\n        // Ð¿ÑÐ¾Ð²ÐµÑÐºÐ° Ð½Ð° Ð´Ð°ÑÑ ÑÐµÐ»Ð¸Ð·Ð°\n        if (release_date === '') {\n          releaseDate = 'Release data no found';\n        } else {\n          releaseDate = release_date.slice(0, 4);\n        }\n\n        return `\n        <li class=\"film__item\" data-id=\"${id}\">\n        <img src=\"${src}\" class=\"film__img\" alt=\"${original_title}\" />\n        <p class=\"film__title\">${title}</p>\n        <p class=\"film__genre\">${genresMovie.join(`, `)} | ${releaseDate}</p>\n      </li>`;\n      }\n    )\n    .join(``);\n\n  return (refs.gallery.innerHTML = moviesMurkup);\n}\n\nexport async function murkupGallery() {\n  const movies = await serverApi.getPopularMovie();\n\n  const total_results = movies.total_results;\n  serverApi.setTotalResults(total_results);\n\n  murkupGalleryOnPageLoading(movies.results);\n\n  spinnerStop();\n}\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign(__assign({}, defaults), opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","\n\nimport { Spinner } from 'spin.js';\nimport { refs } from './utilitiesJS/refs';\n\n\n\nconst opts = {\n  lines: 14, // The number of lines to draw\n  length: 27, // The length of each line\n  width: 20, // The line thickness\n  radius: 33, // The radius of the inner circle\n  scale: 1.95, // Scales overall size of the spinner\n  corners: 1, // Corner roundness (0..1)\n  speed: 1, // Rounds per second\n  rotate: 18, // The rotation offset\n  animation: 'spinner-line-shrink', // The CSS animation name for the lines\n  direction: 1, // 1: clockwise, -1: counterclockwise\n  color: '#ff6b08', // CSS color or array of colors\n  fadeColor: 'transparent', // CSS color or array of colors\n  top: '49%', // Top position relative to parent\n  left: '50%', // Left position relative to parent\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\n  className: 'spinner', // The CSS class to assign to the spinner\n  position: 'absolute', // Element positioning\n};\n\nconst spinner = new Spinner(opts).spin(refs.spinner);\n\n\nexport function spinnerPlay() {\n  spinner.spin(refs.spinner);\n  refs.load.classList.remove('is-hidden');\n}\nexport function spinnerStop() {\n  refs.load.classList.add('is-hidden');\n  spinner.stop();\n}\n\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).basicLightbox=e()}}((function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error(\"Cannot find module '\"+c+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i=\"function\"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement(\"div\");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(\".basicLightbox\"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i;t.create=function(e,n){var t=function(e,n){var t=o('\\n\\t\\t<div class=\"basicLightbox '.concat(n.className,'\">\\n\\t\\t\\t<div class=\"basicLightbox__placeholder\" role=\"dialog\"></div>\\n\\t\\t</div>\\n\\t')),i=t.querySelector(\".basicLightbox__placeholder\");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,\"IMG\"),u=r(i,\"VIDEO\"),s=r(i,\"IFRAME\");return!0===c&&t.classList.add(\"basicLightbox--img\"),!0===u&&t.classList.add(\"basicLightbox--video\"),!0===s&&t.classList.add(\"basicLightbox--iframe\"),t}(e=function(e){var n=\"string\"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error(\"Content must be a DOM element/node or string\");return!0===n?Array.from(o(e,!0)):\"TEMPLATE\"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=\"\"),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),\"boolean\"!=typeof e.closable)throw new Error(\"Property `closable` must be a boolean\");if(\"string\"!=typeof e.className)throw new Error(\"Property `className` must be a string\");if(\"function\"!=typeof e.onShow)throw new Error(\"Property `onShow` must be a function\");if(\"function\"!=typeof e.onClose)throw new Error(\"Property `onClose` must be a function\");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove(\"basicLightbox--visible\"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener(\"click\",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add(\"basicLightbox--visible\"),n()}))}),10),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)}));","import * as basicLightbox from 'basiclightbox';\n\nimport { refs } from './utilitiesJS/refs';\nimport { serverApi } from './utilitiesJS/serverApi';\nimport { spinnerPlay, spinnerStop } from './spinner';\n\nexport const handleClick = async event => {\n\n  spinnerPlay();\n\n  const movieDescriptionId = document.querySelector('.movie__description');\n  const trailerId = movieDescriptionId.dataset.movieId;\n\n  let trailerKey = '';\n  serverApi.getTrailer(trailerId).then(({ results }) => {\n    results.map(element => {\n      if (element.type === 'Trailer' && element.name === 'Official Trailer') {\n        trailerKey = element.key;\n      }\n    });\n    spinnerStop();\n    \n    const instance = basicLightbox.create(`\n      <button\n        type=\"button\"\n        class=\"lightbox__button\"\n        data-action=\"close-lightbox\"\n        ></button>\n   <iframe class=\"player\" width=\"560\" height=\"315\"\n   src='https://www.youtube.com/embed/${trailerKey}'frameborder=\"0\" \n\n   allow=\"accelerometer; autoplay; encrypted-media; gyroscope; \n   picture-in-picture\" allowfullscreen></iframe> \n`);\n\n    instance.show();\n    const modalCloseBtn = document.querySelector(\n      '[data-action=\"close-lightbox\"]'\n    );\n    modalCloseBtn.addEventListener('click', () => instance.close());\n  });\n};","import 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { refs } from './utilitiesJS/refs';\nimport { serverApi } from './utilitiesJS/serverApi';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { murkupGallery } from './utilitiesJS/murkupGalleryOnPageLoading';\nimport { movieDescriptionMurkup } from './descriptionMurkup';\nimport { closeModal, onOpenModal } from './modal';\nimport { onAddQueueClick, onAddWatchClick } from './addFavorites';\nimport {\n  makeQueueTextContent,\n  makeWatchTextContent,\n} from './utilitiesJS/modalBtnTextContent';\nimport { handleClick } from './treiler';\nimport { spinnerPlay, spinnerStop } from './spinner';\n\n\nmurkupGallery();\n\nrefs.gallery.addEventListener(`click`, onClickMovie);\n\nasync function onClickMovie(e) {\n  if (e.target.parentElement.className !== 'film__item') {\n    return;\n  }\n\n  onOpenModal();\n\n  spinnerPlay();\n\n  const id = e.target.parentElement.dataset.id;\n\n  const detailsMovie = await serverApi.getDetailsMovie(id);\n\n  const movieMurkup = await movieDescriptionMurkup(detailsMovie);\n\n  refs.movieDescription.insertAdjacentHTML('beforeend', movieMurkup);\n\n  spinnerStop();\n  \n  makeWatchTextContent(detailsMovie);\n  makeQueueTextContent(detailsMovie);\n\n  const watchBtn = document.querySelector('[data-add-watched]');\n  const queueBtn = document.querySelector('[data-add-queue]');\n  const closeModalBtn = document.querySelector('[data-modal-close]');\n  const trailerBtn = document.querySelector('.btn-ytb');\n\n  watchBtn.addEventListener('click', () => onAddWatchClick(detailsMovie));\n  queueBtn.addEventListener('click', () => onAddQueueClick(detailsMovie));\n  trailerBtn.addEventListener('click', handleClick);\n\n  closeModalBtn.addEventListener('click', closeModal);\n}\n","import Notiflix from 'notiflix';\nimport Pagination from 'tui-pagination';\n\nimport { refs } from './utilitiesJS/refs';\nimport { serverApi } from './utilitiesJS/serverApi';\nimport { options } from './pagination';\nimport { murkupGalleryOnPageLoading } from './utilitiesJS/murkupGalleryOnPageLoading';\nimport { spinnerPlay, spinnerStop } from './spinner';\n\n\nlet searchQuery = ' ';\nrefs.formRef.addEventListener('submit', onSubmitClick);\n\nasync function onSubmitClick(event) {\n  event.preventDefault();\n\n  spinnerPlay();\n\n  const inputRef = document.querySelector('.header__form-input');\n  inputRef.addEventListener('change', () => {\n    serverApi.setPage(1);\n    serverApi.setRequestCount();\n  });\n\n  searchQuery = event.currentTarget.elements.serch_film.value\n    .trim()\n    .toLowerCase();\n\n  if (!searchQuery) {\n    Notiflix.Notify.failure('Enter the name of the movie', {\n      position: 'center-top',\n      fontFamily: 'inherit',\n      borderRadius: '25px',\n      clickToClose: true,\n    });\n    return;\n  }\n\n  await murkupSearchMovie();\n  \n  spinnerStop();\n\n  const container = document.querySelector('.tui-pagination');\n\n  const pagination = new Pagination(container, options);\n\n  pagination.on('beforeMove', event => {\n    const currentPage = event.page;\n    serverApi.setPage(currentPage);\n    serverApi.incrementRequestCount();\n    murkupSearchMovie();\n  });\n}\n\nexport async function murkupSearchMovie() {\n  const data = await serverApi.getMovieOnDemand(searchQuery);\n  const movies = data.results;\n  const total_results = data.total_results;\n  options.totalItems = total_results;\n\n  if (total_results < 20) {\n    const item = document.querySelector('.tui-js');\n    item.classList.add('visually-hidden');\n  } else {\n    const item = document.querySelector('.tui-js');\n    item.classList.remove('visually-hidden');\n  }\n\n  if (movies.length === 0) {\n    Notiflix.Notify.failure(\n      'Search result not successful. Enter the correct movie name and',\n      {\n        position: 'center-top',\n        fontFamily: 'inherit',\n        borderRadius: '25px',\n        clickToClose: true,\n      }\n    );\n    searchQuery = ' ';\n    return;\n  }\n\n  murkupGalleryOnPageLoading(movies);\n}\n"],"names":["parcelRequire","$fb9GJ","$9ea725aae8e0ad5d$var$__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","$9ea725aae8e0ad5d$var$defaults","lines","width","radius","scale","corners","color","fadeColor","animation","rotate","direction","speed","zIndex","className","top","left","shadow","position","$9ea725aae8e0ad5d$export$7f7cbe89f1eacd2","Spinner1","opts","spin","target","stop","el","document","createElement","setAttribute","transform","insertBefore","firstChild","Math","round","shadows","boxShadow","regex","_i","_a","split","matches","match","x","y","xUnits","yUnits","push","prefix","end","$9ea725aae8e0ad5d$var$parseBoxShadow","degrees","backgroundLine","$9ea725aae8e0ad5d$var$css","height","background","$9ea725aae8e0ad5d$var$getColor","borderRadius","transformOrigin","delay","line","$9ea725aae8e0ad5d$var$normalizeShadow","appendChild","$9ea725aae8e0ad5d$var$drawLines","requestAnimationFrame","cancelAnimationFrame","animateId","clearTimeout","parentNode","removeChild","undefined","props","prop","style","idx","normalized","shadows_1","$00cfbbdd8a53f936$var$spinner","$9ea725aae8e0ad5d$exports","Spinner","$3fz09","refs","spinner","$00cfbbdd8a53f936$export$2c6c1315bfe20b8f","load","classList","remove","$00cfbbdd8a53f936$export$b0293130610857b9","add","$47cbafa11ce31a61$var$container","querySelector","$47cbafa11ce31a61$var$pagination","$parcel$interopDefault","$2nhTy","options","$47cbafa11ce31a61$export$ce0b9808aa57ae7d","movies","moviesMurkup","map","original_title","title","poster_path","id","genre_ids","release_date","src","$1fedI","genresMovie","releaseDate","genresMovies","$bRnc2","genresArr","reduce","acc","genre","includes","name","slice","splice","join","gallery","innerHTML","async","$47cbafa11ce31a61$export$6bb355015a1580b","$185lj","serverApi","getPopularMovie","total_results","setTotalResults","results","on","event","setTotalItems","totalResults","currentPage","page","setPage","$6fce49880e7c8879$exports","e1","o","r","c","u","a","Error","code","l","exports","e","c1","e2","n1","t1","defineProperty","value","create","visible","trim","children","tagName","i1","ownerDocument","body","contains","e3","n2","t2","e4","concat","forEach","HTMLElement","Array","from","content","cloneNode","closable","onShow","onClose","c2","e5","u1","setTimeout","parentElement","addEventListener","element","show","e6","close","$8d72c4a777621fc6$export$b981489921ee18cd","trailerId","dataset","movieId","trailerKey","getTrailer","then","type","key","instance","$bTcpz","onOpenModal","detailsMovie","getDetailsMovie","movieMurkup","$it60l","movieDescriptionMurkup","movieDescription","insertAdjacentHTML","$lFT8c","makeWatchTextContent","makeQueueTextContent","watchBtn","queueBtn","closeModalBtn","trailerBtn","$9Co7P","onAddWatchClick","onAddQueueClick","closeModal","$eWCmQ","$307187451cbc0239$var$searchQuery","$307187451cbc0239$export$80a6146058001a40","data","getMovieOnDemand","totalItems","Notify","failure","fontFamily","clickToClose","formRef","event1","preventDefault","setRequestCount","currentTarget","elements","serch_film","toLowerCase","container","incrementRequestCount"],"version":3,"file":"index.dc8e3de4.js.map"}