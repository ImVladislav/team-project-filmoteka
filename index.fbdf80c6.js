!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire62bd;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire62bd=i),i("5xtVg");var a,o=i("bpxeT"),s=i("2TvXO"),c=i("hiFhO"),u=i("jaaYu"),l=(o=i("bpxeT"),s=i("2TvXO"),i("1VFfL")),p=(c=i("hiFhO"),u=i("jaaYu"),i("9PJ7S")),d=i("jcFG7"),f=i("4zVoc"),v=i("j1lrD"),m=document.querySelector(".tui-pagination"),h=new(e(l))(m,d.options);function y(e){var t=e.map((function(e){var t=e.original_title,n=e.title,r=e.poster_path,i=e.id,a=e.genre_ids,o=e.release_date,s=(0,p.posterÐ¡heck)(r),c=null,u=null,l=f.genresArr.reduce((function(e,t){return a.includes(t.id)&&e.push(t.name),e}),[]);return l.length>3?(c=l.slice(0,2)).splice(2,1,"Other"):c=0===l.length?["Genres not found"]:l,u=""===o?"Release data no found":o.slice(0,4),'\n        <li class="film__item" data-id="'.concat(i,'">\n        <img src="').concat(s,'" class="film__img" alt="').concat(t,'" />\n        <p class="film__title">').concat(n,'</p>\n        <p class="film__genre">').concat(c.join(", ")," | ").concat(u,"</p>\n      </li>")})).join("");return c.refs.gallery.innerHTML=t}function g(){return x.apply(this,arguments)}function x(){return(x=e(o)(e(s).mark((function t(){var n,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.serverApi.getPopularMovie();case 2:n=e.sent,r=n.total_results,u.serverApi.setTotalResults(r),y(n.results),(0,v.spinnerStop)();case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}(0,v.spinnerPlay)(),h.on("beforeMove",(a=e(o)(e(s).mark((function t(n){var r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,v.spinnerPlay)(),h.setTotalItems(u.serverApi.totalResults),r=n.page,u.serverApi.setPage(r),g();case 5:case"end":return e.stop()}}),t)}))),function(e){return a.apply(this,arguments)}));var k=i("kiFmR"),b=i("5xtVg"),_=i("4cXS4"),w=i("5HOzi"),T=i("dkUq4");v=i("j1lrD");function j(){return(j=e(o)(e(s).mark((function t(n){var r,i,a,o,l,p,d;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("film__item"===n.target.parentElement.className){e.next=2;break}return e.abrupt("return");case 2:return(0,b.onOpenModal)(),(0,v.spinnerPlay)(),r=n.target.parentElement.dataset.id,e.next=7,u.serverApi.getDetailsMovie(r);case 7:return i=e.sent,e.next=10,(0,k.movieDescriptionMurkup)(i);case 10:a=e.sent,c.refs.movieDescription.insertAdjacentHTML("beforeend",a),(0,v.spinnerStop)(),(0,w.makeWatchTextContent)(i),(0,w.makeQueueTextContent)(i),o=document.querySelector("[data-add-watched]"),l=document.querySelector("[data-add-queue]"),p=document.querySelector("[data-modal-close]"),d=document.querySelector(".btn-ytb"),o.addEventListener("click",(function(){return(0,_.onAddWatchClick)(i)})),l.addEventListener("click",(function(){return(0,_.onAddQueueClick)(i)})),d.addEventListener("click",T.handleClick),p.addEventListener("click",b.closeModal);case 23:case"end":return e.stop()}}),t)})))).apply(this,arguments)}g(),c.refs.gallery.addEventListener("click",(function(e){return j.apply(this,arguments)}));o=i("bpxeT"),s=i("2TvXO");var q=i("iU1Pc"),A=(l=i("1VFfL"),c=i("hiFhO"),u=i("jaaYu"),d=i("jcFG7"),v=i("j1lrD")," ");function L(){return(L=e(o)(e(s).mark((function t(n){var r;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),(0,v.spinnerPlay)(),document.querySelector(".header__form-input").addEventListener("change",(function(){u.serverApi.setPage(1),u.serverApi.setRequestCount()})),A=n.currentTarget.elements.serch_film.value.trim().toLowerCase()){t.next=8;break}return e(q).Notify.failure("Enter the name of the movie",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),t.abrupt("return");case 8:return t.next=10,S();case 10:(0,v.spinnerStop)(),r=document.querySelector(".tui-pagination"),new(e(l))(r,d.options).on("beforeMove",(function(e){var t=e.page;u.serverApi.setPage(t),u.serverApi.incrementRequestCount(),S()}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return M.apply(this,arguments)}function M(){return(M=e(o)(e(s).mark((function t(){var n,r,i;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.serverApi.getMovieOnDemand(A);case 2:if(n=t.sent,r=n.results,i=n.total_results,d.options.totalItems=i,i<20?document.querySelector(".tui-js").classList.add("visually-hidden"):document.querySelector(".tui-js").classList.remove("visually-hidden"),0!==r.length){t.next=11;break}return e(q).Notify.failure("Search result not successful. Enter the correct movie name and",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),A=" ",t.abrupt("return");case 11:y(r);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}c.refs.formRef.addEventListener("submit",(function(e){return L.apply(this,arguments)})),i("jcFG7"),i("aZhHc"),i("3ngM5"),i("dkUq4"),i("dUjMA"),i("fDiVl"),i("j1lrD")}();
//# sourceMappingURL=index.fbdf80c6.js.map
