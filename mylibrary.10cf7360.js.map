{"mappings":"iiBAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,iJAgCA,SAASE,EAA0BC,GACjC,IAAMC,EAAeD,EAClBE,KAAI,SAAAC,G,IAAGC,EAAcD,EAAdC,eAAgBC,EAAKF,EAALE,MAAOC,EAAWH,EAAXG,YAAaC,EAAEJ,EAAFI,GACpCC,GAAM,EAAAC,EAAA,aAAYH,GAExB,MAAO,6CAEOI,OADsBH,EAAG,0BACMG,OAA/BF,EAAI,6BACSE,OADkBN,EAAe,yCAC3BM,OAANL,EAAM,6E,IAIlCM,KAAM,IAET,OAAQC,EAAAC,KAAKC,eAAeC,UAAYd,C,UAK3Be,I,OAAAA,EAAfC,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAC,EAA4BC,G,IAMpBd,EAEAe,EAEAC,EAMAC,EACAC,EACAC,E,qEAjBmC,eAArCL,EAAEM,OAAOC,cAAcC,UAA0B,C,uDAIrD,EAAAC,EAAAC,eACMxB,EAAKc,EAAEM,OAAOC,cAAcI,QAAQzB,G,SAEf0B,EAAAC,UAAUC,gBAAgB5B,G,cAA/Ce,EAAYc,EAAAC,K,UAEQ,EAAAC,EAAAC,wBAAuBjB,G,OAA3CC,EAAWa,EAAAC,KAEjBzB,EAAAC,KAAK2B,iBAAiBC,mBAAmB,YAAalB,IACtD,EAAAmB,EAAAC,sBAAqBrB,IACrB,EAAAoB,EAAAE,sBAAqBtB,GAEfE,EAAWqB,SAASC,cAAc,sBAClCrB,EAAWoB,SAASC,cAAc,oBAClCpB,EAAgBmB,SAASC,cAAc,sBAE7CtB,EAASuB,iBAAiB,SAAS,YACjC,EAAAC,EAAAC,iBAAgB3B,GAEhBvB,EADgBmD,KAAKC,MAAMC,aAAaC,QAAQ,U,IAGlD5B,EAASsB,iBAAiB,SAAS,YACjC,EAAAC,EAAAM,iBAAgBhC,GAEhBvB,EADemD,KAAKC,MAAMC,aAAaC,QAAQ,U,IAGjD3B,EAAcqB,iBAAiB,QAASQ,iB,6CA9BfC,MAAAC,KAAAC,U,CArC3B9C,EAAAC,KAAK8C,UAAUZ,iBAAiB,SAEhC,SAASa,IACP,IACE,IAAMC,EAAUX,KAAKC,MAAMC,aAAaC,QAAQ,UAChD,IAAKQ,EAIH,OAHAjD,EAAAC,KAAKiD,SAASC,UAAUC,IAAI,aAC5BpD,EAAAC,KAAKoD,aAAaxB,mBAAmB,YAAayB,sBAClDtD,EAAAC,KAAK8C,UAAUQ,oBAAoB,QAASP,GAI9C7D,EAA0B8D,E,CAC1B,MAAOO,GACPC,QAAQC,IAAIF,EAAMG,Q,KAqBtB3D,EAAAC,KAAKC,eAAeiC,iBAAkB,S,SAEV1B,G,OAAbL,EAAYwC,MAAAC,KAAAC,U,ICnD3B9C,EAAAf,EAAA,S,cCAAe,EAAAf,EAAA,UDIAgB,KAAK2D,SAASzB,iBAAiB,SAE/B,WAMkC/C,EAJlBkD,KAAKC,MAAMC,aAAaC,QAAQ,UAKxCpD,EAAeD,EAClBE,KAAI,SAAAC,G,IAAGC,EAAcD,EAAdC,eAAgBC,EAAKF,EAALE,MAAOC,EAAWH,EAAXG,YAAaC,EAAEJ,EAAFI,GACpCC,GAAM,EAAAC,EAAA,aAAYH,GAExB,MAAO,6CAEOI,OADsBH,EAAG,0BACMG,OAA/BF,EAAI,6BACSE,OADkBN,EAAe,yCAC3BM,OAANL,EAAM,6E,IAIlCM,KAAM,IAEDC,EAAAC,KAAKC,eAAeC,UAAYd,EAd1C,IAAkCD,EAC1BC,C","sources":["src/mylibrary.js","src/js/watchedMovies.js","src/js/queueMovies.js","src/js/utilitiesJS/clearPage.js"],"sourcesContent":["import './js/modal';\nimport './js/modal-team';\nimport './js/watchedMovies';\nimport './js/queueMovies';\nimport './js/pagination';\nimport './js/theme-dark';\nimport './js/scrollTop';\n","import { refs } from './utilitiesJS/refs';\nimport { poster小heck } from './utilitiesJS/posterCheck';\nimport { onOpenModal } from './modal';\nimport { movieDescriptionMurkup } from './descriptionMurkup';\nimport { serverApi } from './utilitiesJS/serverApi';\nimport { movieDescriptionMurkup } from './descriptionMurkup';\nimport { onOpenModal } from './modal';\nimport { onAddQueueClick, onAddWatchClick } from './addFavorites';\nimport { closeModal, onOpenModal } from './modal';\nimport {\n  makeQueueTextContent,\n  makeWatchTextContent,\n} from './utilitiesJS/modalBtnTextContent';\n\nrefs.btnWathed.addEventListener('click', onBtnWatchedClick);\n\nfunction onBtnWatchedClick() {\n  try {\n    const watched = JSON.parse(localStorage.getItem('watch'));\n    if (!watched) {\n      refs.mainList.classList.add('not-films');\n      refs.containerLib.insertAdjacentHTML('beforeend', createMessage());\n      refs.btnWathed.removeEventListener('click', onBtnWatchedClick);\n      return;\n    }\n\n    murkupGalleryOnBtnWatched(watched);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction murkupGalleryOnBtnWatched(movies) {\n  const moviesMurkup = movies\n    .map(({ original_title, title, poster_path, id }) => {\n      const src = poster小heck(poster_path);\n\n      return `\n        <li class=\"film__item\" data-id=\"${id}\">\n        <img src=\"${src}\" class=\"film__img\" alt=\"${original_title}\" />\n        <p class=\"film__title\">${title}</p>\n        <p class=\"film__genre\">Drama, Action | 2020</p>\n      </li>`;\n    })\n    .join(``);\n\n  return (refs.galleryLibrary.innerHTML = moviesMurkup);\n}\n\nrefs.galleryLibrary.addEventListener(`click`, onClickMovie);\n\nasync function onClickMovie(e) {\n  if (e.target.parentElement.className !== 'film__item') {\n    return;\n  }\n\n  onOpenModal();\n  const id = e.target.parentElement.dataset.id;\n\n  const detailsMovie = await serverApi.getDetailsMovie(id);\n\n  const movieMurkup = await movieDescriptionMurkup(detailsMovie);\n\n  refs.movieDescription.insertAdjacentHTML('beforeend', movieMurkup);\n  makeWatchTextContent(detailsMovie);\n  makeQueueTextContent(detailsMovie);\n\n  const watchBtn = document.querySelector('[data-add-watched]');\n  const queueBtn = document.querySelector('[data-add-queue]');\n  const closeModalBtn = document.querySelector('[data-modal-close]');\n\n  watchBtn.addEventListener('click', () => {\n    onAddWatchClick(detailsMovie);\n    const watched = JSON.parse(localStorage.getItem('watch'));\n    murkupGalleryOnBtnWatched(watched);\n  });\n  queueBtn.addEventListener('click', () => {\n    onAddQueueClick(detailsMovie);\n    const queued = JSON.parse(localStorage.getItem('queue'));\n    murkupGalleryOnBtnWatched(queued);\n  });\n  closeModalBtn.addEventListener('click', onCloseModalLib);\n}\n","import { refs } from './utilitiesJS/refs';\nimport { poster小heck } from './utilitiesJS/posterCheck';\nimport { clearPage } from './utilitiesJS/clearPage';\n\nrefs.btnQueue.addEventListener('click', onBtnQueueClick);\n\nfunction onBtnQueueClick() {\n  // clearPage();\n  const queue = JSON.parse(localStorage.getItem('queue'));\n  murkupGalleryOnBtnQueued(queue);\n}\n\nfunction murkupGalleryOnBtnQueued(movies) {\n  const moviesMurkup = movies\n    .map(({ original_title, title, poster_path, id }) => {\n      const src = poster小heck(poster_path);\n\n      return `\n        <li class=\"film__item\" data-id=\"${id}\">\n        <img src=\"${src}\" class=\"film__img\" alt=\"${original_title}\" />\n        <p class=\"film__title\">${title}</p>\n        <p class=\"film__genre\">Drama, Action | 2020</p>\n      </li>`;\n    })\n    .join(``);\n\n  return (refs.galleryLibrary.innerHTML = moviesMurkup);\n}\n","import { refs } from './refs';\n\nexport function clearPage() {\n  refs.galleryLibrary.innerHTML = '';\n}\n"],"names":["parcelRequire","$bpxeT","$51943685a991b61a$var$murkupGalleryOnBtnWatched","movies","moviesMurkup","map","param","original_title","title","poster_path","id","src","$9PJ7S","concat","join","$hiFhO","refs","galleryLibrary","innerHTML","$51943685a991b61a$var$_onClickMovie","$parcel$interopDefault","$2TvXO","mark","_callee","e","detailsMovie","movieMurkup","watchBtn","queueBtn","closeModalBtn","target","parentElement","className","$5xtVg","onOpenModal","dataset","$jaaYu","serverApi","getDetailsMovie","_ctx","sent","$kiFmR","movieDescriptionMurkup","movieDescription","insertAdjacentHTML","$5HOzi","makeWatchTextContent","makeQueueTextContent","document","querySelector","addEventListener","$4cXS4","onAddWatchClick","JSON","parse","localStorage","getItem","onAddQueueClick","onCloseModalLib","apply","this","arguments","btnWathed","$51943685a991b61a$var$onBtnWatchedClick","watched","mainList","classList","add","containerLib","createMessage","removeEventListener","error","console","log","message","btnQueue"],"version":3,"file":"mylibrary.10cf7360.js.map"}