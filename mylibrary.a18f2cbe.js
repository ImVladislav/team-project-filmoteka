var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequire62bd;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,i.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire62bd=i),i("bTcpz"),i("7bYU0");var r=i("3fz09"),a=i("1fedI"),l=i("bTcpz"),s=i("it60l"),c=i("185lj"),o=(s=i("it60l"),i("bTcpz"),i("9Co7P")),d=(l=i("bTcpz"),i("bRnc2")),u=i("lFT8c");function f(e){const t=e.map((({original_title:e,title:t,poster_path:n,id:i,genres:r,release_date:l})=>{let s=null,c=null;const o=r.map((e=>e.id)),u=(0,a.posterСheck)(n),f=d.genresArr.reduce(((e,t)=>(o.includes(t.id)&&e.push(t.name),e)),[]);return f.length>3?(s=f.slice(0,2),s.splice(2,1,"Other")):s=0===f.length?["Genres not found"]:f,c=""===l?"Release data no found":l.slice(0,4),`\n        <li class="film__item" data-id="${i}">\n        <img src="${u}" class="film__img" alt="${e}" />\n        <p class="film__title">${t}</p>\n        <p class="film__genre">${s.join(", ")} | ${c}</p>\n      </li>`})).join("");return r.refs.galleryLibrary.innerHTML=t}r.refs.btnWathed.addEventListener("click",(function e(){try{const t=JSON.parse(localStorage.getItem("watch"));if(!t)return r.refs.mainList.classList.add("not-films"),r.refs.containerLib.insertAdjacentHTML("beforeend",createMessage()),void r.refs.btnWathed.removeEventListener("click",e);f(t)}catch(e){console.log(e.message)}})),r.refs.galleryLibrary.addEventListener("click",(async function(e){if("film__item"!==e.target.parentElement.className)return;(0,l.onOpenModal)();const t=e.target.parentElement.dataset.id,n=await c.serverApi.getDetailsMovie(t),i=await(0,s.movieDescriptionMurkup)(n);r.refs.movieDescription.insertAdjacentHTML("beforeend",i),(0,u.makeWatchTextContent)(n),(0,u.makeQueueTextContent)(n);const a=document.querySelector("[data-add-watched]"),d=document.querySelector("[data-add-queue]"),p=document.querySelector("[data-modal-close]");a.addEventListener("click",(()=>{(0,o.onAddWatchClick)(n);f(JSON.parse(localStorage.getItem("watch")))})),d.addEventListener("click",(()=>{(0,o.onAddQueueClick)(n);f(JSON.parse(localStorage.getItem("queue")))})),p.addEventListener("click",l.closeModal)}));r=i("3fz09"),a=i("1fedI"),r=i("3fz09");d=i("bRnc2");r.refs.btnQueue.addEventListener("click",(function e(){try{const t=JSON.parse(localStorage.getItem("queue"));if(!t)return r.refs.mainList.classList.add("not-films"),r.refs.containerLib.insertAdjacentHTML("beforeend",createMessage()),void r.refs.btnQueue.removeEventListener("click",e);!function(e){const t=e.map((({original_title:e,title:t,poster_path:n,id:i,genres:r,release_date:l})=>{let s=null,c=null;const o=r.map((e=>e.id)),u=(0,a.posterСheck)(n),f=d.genresArr.reduce(((e,t)=>(o.includes(t.id)&&e.push(t.name),e)),[]);return f.length>3?(s=f.slice(0,2),s.splice(2,1,"Other")):s=0===f.length?["Genres not found"]:f,c=""===l?"Release data no found":l.slice(0,4),`\n        <li class="film__item" data-id="${i}">\n        <img src="${u}" class="film__img" alt="${e}" />\n        <p class="film__title">${t}</p>\n        <p class="film__genre">${s.join(", ")} | ${c}</p>\n      </li>`})).join("");r.refs.galleryLibrary.innerHTML=t}(t)}catch(e){console.log(e.message)}})),i("2nhTy"),i("eobyt"),i("3TU0j"),i("c8VpK");
//# sourceMappingURL=mylibrary.a18f2cbe.js.map
