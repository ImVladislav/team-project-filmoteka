{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,oDAMAC,EAAAC,KAAKC,UAAUC,iBAAiB,SAEhC,YAKA,SAAmCC,GACjC,MAAMC,EAAeD,EAClBE,KAAI,EAACC,eAAEA,EAAcC,MAAEA,EAAKC,YAAEA,EAAWC,GAAEA,KAGnC,6CAC6BA,2BAHxB,EAAAC,EAAA,aAAYF,8BAIqBF,yCAClBC,gFAI5BI,KAAK,IAEDZ,EAAAC,KAAKY,eAAeC,mBAAmB,YAAaT,E,CAjB3DU,CADgBC,KAAKC,MAAMC,aAAaC,QAAQ,U,IAqBlDnB,EAAAC,KAAKY,eAAeV,iBAAiB,SAErCiB,eAA4BC,GAC1B,GAAyC,eAArCA,EAAEC,OAAOC,cAAcC,UACzB,QAGF,EAAAC,EAAAC,eAEA,MAAMhB,EAAKW,EAAEC,OAAOC,cAAcI,QAAQjB,GAEpCkB,QAAqBC,EAAAC,UAAUC,gBAAgBrB,GAE/CsB,QAAoB,EAAAC,EAAAC,wBAAuBN,GAEjD5B,EAAAC,KAAKkC,iBAAiBrB,mBAAmB,YAAakB,GAEtDI,SACGC,cAAc,sBACdlC,iBAAiB,SAAS,IAAMmC,gBAAgBV,KACnDQ,SACGC,cAAc,oBACdlC,iBAAiB,SAAS,IAAMoC,gBAAgBX,I","sources":["src/mylibrary.js","src/js/watchedMovies.js"],"sourcesContent":["import './js/modal';\nimport './js/modal-team';\nimport './js/watchedMovies';\n","import { refs } from './utilitiesJS/refs';\nimport { posterСheck } from './utilitiesJS/posterCheck';\nimport { onOpenModal } from './modal';\nimport { serverApi } from './utilitiesJS/serverApi';\nimport { movieDescriptionMurkup } from './descriptionMurkup';\n\nrefs.btnWathed.addEventListener('click', onBtnWatchedClick);\n\nfunction onBtnWatchedClick() {\n  const watched = JSON.parse(localStorage.getItem('watch'));\n  murkupGalleryOnBtnWatched(watched);\n}\n\nfunction murkupGalleryOnBtnWatched(movies) {\n  const moviesMurkup = movies\n    .map(({ original_title, title, poster_path, id }) => {\n      const src = posterСheck(poster_path);\n\n      return `\n        <li class=\"film__item\" data-id=\"${id}\">\n        <img src=\"${src}\" class=\"film__img\" alt=\"${original_title}\" />\n        <p class=\"film__title\">${title}</p>\n        <p class=\"film__genre\">Drama, Action | 2020</p>\n      </li>`;\n    })\n    .join(``);\n\n  return refs.galleryLibrary.insertAdjacentHTML(`beforeend`, moviesMurkup);\n}\n\nrefs.galleryLibrary.addEventListener(`click`, onClickMovie);\n\nasync function onClickMovie(e) {\n  if (e.target.parentElement.className !== 'film__item') {\n    return;\n  }\n\n  onOpenModal();\n\n  const id = e.target.parentElement.dataset.id;\n\n  const detailsMovie = await serverApi.getDetailsMovie(id);\n\n  const movieMurkup = await movieDescriptionMurkup(detailsMovie);\n\n  refs.movieDescription.insertAdjacentHTML('beforeend', movieMurkup);\n\n  document\n    .querySelector('[data-add-watched]')\n    .addEventListener('click', () => onAddWatchClick(detailsMovie));\n  document\n    .querySelector('[data-add-queue]')\n    .addEventListener('click', () => onAddQueueClick(detailsMovie));\n}\n"],"names":["parcelRequire","$3fz09","refs","btnWathed","addEventListener","movies","moviesMurkup","map","original_title","title","poster_path","id","$1fedI","join","galleryLibrary","insertAdjacentHTML","$c5c7efe92cb3f8dd$var$murkupGalleryOnBtnWatched","JSON","parse","localStorage","getItem","async","e","target","parentElement","className","$bTcpz","onOpenModal","dataset","detailsMovie","$185lj","serverApi","getDetailsMovie","movieMurkup","$it60l","movieDescriptionMurkup","movieDescription","document","querySelector","onAddWatchClick","onAddQueueClick"],"version":3,"file":"mylibrary.a7ffcbe2.js.map"}